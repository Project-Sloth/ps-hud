<script lang="ts">
  import { onMount } from 'svelte';
  import Fa from 'svelte-fa';

  export let height: number = 55;
  export let width: number = 55;
  export let stroke: number = 15;
  export let progress: number = 2;
  export let progressColor: string = "stroke-red-500";
  export let innerColor: string = "black";
  export let icon = null;

  let burger;
  let burgerLength;



  onMount(() => {
    burgerLength = burger.getTotalLength()/3.5;
  });
</script>

<div class="flex ml-2">
  <svg version="1.1" width={width} height={height} x="0px" y="0px" viewBox="0 0 361.667 361.667">
    <path bind:this={burger} d="M320.833,278.833h-280c-9.649,0-17.5-7.851-17.5-17.5v-23c0-2.881,0.7-5.601,1.938-8H24c-13.234,0-24-10.767-24-24v-8
      c0-13.233,10.766-24,24-24h1.976c-0.76-3.314-1.143-6.659-1.143-10c0-22.415,16.68-43.21,46.967-58.554
      c29.207-14.797,67.929-22.946,109.033-22.946s79.826,8.149,109.033,22.946c30.288,15.344,46.968,36.139,46.968,58.554
      c0,3.341-0.383,6.686-1.144,10h1.977c13.233,0,24,10.767,24,24v8c0,13.233-10.767,24-24,24h-1.271c1.238,2.399,1.938,5.119,1.938,8
      v23C338.333,270.983,330.483,278.833,320.833,278.833z M40.833,230.833c-4.136,0-7.5,3.364-7.5,7.5v23c0,4.136,3.364,7.5,7.5,7.5
      h280c4.136,0,7.5-3.364,7.5-7.5v-23c0-4.136-3.364-7.5-7.5-7.5H40.833z M24,184.333c-7.72,0-14,6.28-14,14v8c0,7.72,6.28,14,14,14
      h313.667c7.72,0,14-6.28,14-14v-8c0-7.72-6.28-14-14-14H24z M36.166,173.833H325.5c0.886-3.153,1.333-6.336,1.333-9.5
      c0-18.453-14.733-36.08-41.486-49.634c-27.834-14.101-64.95-21.866-104.514-21.866c-39.563,0-76.68,7.766-104.514,21.866
      c-26.753,13.554-41.486,31.181-41.486,49.634C34.833,167.497,35.28,170.68,36.166,173.833z M222.833,161.834
      c-2.094,0-4.044-1.324-4.742-3.42l-2-6c-0.873-2.619,0.542-5.451,3.162-6.324c2.617-0.874,5.45,0.541,6.324,3.162l2,6
      c0.873,2.619-0.542,5.451-3.162,6.324C223.89,161.751,223.357,161.834,222.833,161.834z M60.662,159.833
      c-1.006,0-2.021-0.302-2.902-0.932c-2.247-1.604-2.768-4.728-1.163-6.975l5-7c1.604-2.247,4.728-2.77,6.975-1.162
      c2.247,1.604,2.768,4.728,1.163,6.975l-5,7C63.759,159.106,62.222,159.833,60.662,159.833z M186.833,157.833c-2.761,0-5-2.238-5-5
      v-8c0-2.762,2.239-5,5-5s5,2.238,5,5v8C191.833,155.595,189.594,157.833,186.833,157.833z M106.835,153.833
      c-1.433,0-2.854-0.612-3.844-1.799c-1.768-2.122-1.481-5.274,0.641-7.042l6-5c2.12-1.769,5.273-1.481,7.042,0.64
      c1.768,2.122,1.481,5.274-0.64,7.042l-6,5C109.099,153.453,107.964,153.833,106.835,153.833z M292.832,150.833
      c-1.182,0-2.367-0.416-3.32-1.263l-9-8c-2.063-1.835-2.249-4.995-0.415-7.06c1.835-2.063,4.994-2.249,7.06-0.415l9,8
      c2.063,1.835,2.249,4.995,0.415,7.06C295.583,150.267,294.21,150.833,292.832,150.833z M257.833,150.833
      c-1.279,0-2.56-0.488-3.535-1.465l-8-8c-1.953-1.952-1.953-5.118,0-7.07c1.951-1.953,5.119-1.953,7.07,0l8,8
      c1.953,1.952,1.953,5.118,0,7.07C260.393,150.345,259.113,150.833,257.833,150.833z M146.662,147.833
      c-1.006,0-2.021-0.302-2.902-0.932c-2.247-1.604-2.768-4.728-1.163-6.975l5-7c1.605-2.247,4.727-2.77,6.975-1.162
      c2.247,1.604,2.768,4.728,1.163,6.975l-5,7C149.759,147.106,148.222,147.833,146.662,147.833z M82.837,133.834
      c-1.616,0-3.201-0.782-4.165-2.228c-1.532-2.298-0.911-5.402,1.387-6.934l9-6c2.298-1.532,5.401-0.911,6.934,1.387
      c1.532,2.298,0.911,5.402-1.387,6.934l-9,6C84.754,133.562,83.791,133.834,82.837,133.834z M175.672,128.834
      c-0.325,0-0.655-0.032-0.986-0.098c-2.708-0.542-4.464-3.176-3.922-5.884l1-5c0.541-2.708,3.175-4.455,5.883-3.923
      c2.708,0.542,4.464,3.176,3.922,5.884l-1,5C180.094,127.191,178.006,128.834,175.672,128.834z M262.833,125.834
      c-0.583,0-1.176-0.103-1.755-0.319l-8-3c-2.585-0.97-3.896-3.852-2.926-6.438c0.97-2.585,3.849-3.895,6.438-2.926l8,3
      c2.585,0.97,3.896,3.852,2.926,6.438C266.762,124.596,264.857,125.834,262.833,125.834z M206.661,121.834
      c-2.4,0-4.519-1.733-4.926-4.179l-1-6c-0.454-2.724,1.386-5.3,4.109-5.754c2.726-0.459,5.3,1.386,5.754,4.109l1,6
      c0.454,2.724-1.386,5.3-4.109,5.754C207.21,121.812,206.933,121.834,206.661,121.834z M138.828,116.834
      c-2.292,0-4.358-1.586-4.876-3.916c-0.599-2.696,1.101-5.367,3.796-5.966l9-2c2.696-0.597,5.366,1.101,5.965,3.796
      c0.599,2.696-1.101,5.367-3.796,5.966l-9,2C139.553,116.795,139.188,116.834,138.828,116.834z"
      class="{progressColor} stroke-cap-round stroke-join-round"
      fill="transparent"
      stroke-width={stroke}
      stroke-dasharray={burgerLength +' ' + burgerLength}
      stroke-dashoffset={burgerLength - progress / 100 * burgerLength}
    />
  </svg>
</div>